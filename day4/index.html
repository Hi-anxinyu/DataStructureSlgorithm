<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>音乐播放器</title>
    <style>
      * {
        padding: 0;
        margin: 0;
      }
      body,
      html {
        width: 100%;
        height: 100%;
      }
      body .box {
        width: 100%;
        height: 100%;
        background-image: url("./src//img/1.png");
      }
      .cur{
          color: lime;
      }
      .next{
          color: white;
      }
      .lang{
          color: lime;
      }
    </style>
  </head>
  <body>
    <div class="box">
      <button class="btn">暂停</button>
      <h2 class="lang">郭源潮 - 宋冬野</h2>
      <h2 class="cur"></h2>
      <h2 class="next"></h2>
    </div>
    <script>
      let flag = true;
      let arr = [
        "郭源潮 - 宋冬野",

        "词：宋冬野",

        "曲： 宋冬野",

        "你说你知道他们的世界",

        "悲歌三首买一切",

        "买昆仑落脚 蓬莱放思想",

        "买人们的争执酿酒汤",

        "买公主坟的乌鸦",

        "事发之木和东窗之麻",

        "买胭脂河里船行渔歌",

        "黄金世界中万物法则",

        "你我都一样 将被遗忘 郭源潮",

        "你的病也和我的一样",

        "风月难扯 离合不骚",

        "层楼终究误少年 自由早晚乱余生",

        "你我山前没相见 山后别相逢",

        "买石灰街车站的海鸥",

        "山水禽兽和年少一梦",

        "买太平湖底陈年水墨",

        "哥本哈根的童年传说",

        "其实你我都一样 终将被遗忘 郭源潮",

        "你的病也和我的一样",

        "风月难扯 离合不骚",

        "层楼终究误少年 自由早晚乱余生",

        "你我山前没相见 山后别相逢",

        "其实你我都一样 终将被遗忘 郭源潮",

        "你的病也和我一样",

        "风月难扯 离合不骚",

        "层楼终究误少年 自由早晚乱余生",

        "你我山前没相见 山后别相逢",

        "你我山前没相见 山后别相逢",

        "你我山前没相见 山后别相逢",
      ];

      function* player() {
        //将歌词遍历成为yild
        for (let value of arr) {
          yield value;
        }
      }
      let p = player();
      let p1 = player();
      p.next();
      p1.next()
      p1.next()
      let str = '';
      var timer = setInterval(() => {
           if(flag){
               const {value,done} = p.next();
               str=value;
               if(!done){
                   document.querySelector('.cur').innerHTML = value;
                   document.querySelector('.next').innerHTML = p1.next().value||'...end';
               }
           }else{
           }
      }, str.length>7?2500:1500);

      document.querySelector(".btn").addEventListener("click", function () {
        flag = !flag;
      document.querySelector(".btn").innerHTML = flag ? "暂停" : "播放";
      });
    </script>
  </body>
</html>
